<?xml version="1.0" encoding="utf-8" ?>
<component name="VideoPlayer" extends="Group">
    <interface>
        <field id="playerClosed" type="boolean" alwaysNotify="true" value="false" />
        <function name="playVideo" />
    </interface>
    <script type="text/brightscript" uri="pkg:/components/VideoPlayer.brs" />

    <children>
        <!-- Full screen black background -->
        <Rectangle
            id="playerBg"
            width="1920"
            height="1080"
            color="0x000000FF" />

        <!-- Roku Video node -->
        <Video
            id="video"
            width="1920"
            height="1080"
            translation="[0, 0]"
            enableUI="false" />

        <!-- ===== OSD OVERLAY - Top info card ===== -->
        <Group id="osdGroup" visible="true">
            <!-- Dark frosted panel -->
            <Rectangle
                translation="[50, 35]"
                width="740"
                height="115"
                color="0x0D0D0DE6">

                <!-- Accent left edge -->
                <Rectangle
                    width="3"
                    height="115"
                    color="0x00D4FFFF" />

                <!-- Play icon -->
                <Label
                    id="osdIcon"
                    text=">"
                    translation="[24, 22]"
                    font="font:LargeBoldSystemFont"
                    color="0x00D4FFFF" />

                <!-- Channel name -->
                <Label
                    id="osdChannelName"
                    text=""
                    translation="[68, 18]"
                    font="font:LargeBoldSystemFont"
                    color="0xEEEEEEFF"
                    maxLines="1"
                    width="650" />

                <!-- Category + Live tag -->
                <Label
                    id="osdCategory"
                    text=""
                    translation="[68, 68]"
                    font="font:SmallSystemFont"
                    color="0x666666FF"
                    maxLines="1"
                    width="500" />

                <!-- Live dot -->
                <Rectangle
                    id="osdLiveDot"
                    translation="[680, 76]"
                    width="8"
                    height="8"
                    color="0xFF3333FF" />
                <Label
                    translation="[694, 68]"
                    text="LIVE"
                    font="font:SmallBoldSystemFont"
                    color="0xFF3333FF" />
            </Rectangle>
        </Group>

        <!-- ===== OSD HINTS - Bottom bar ===== -->
        <Group id="osdHints" visible="true">
            <Rectangle
                translation="[460, 1005]"
                width="1000"
                height="44"
                color="0x0D0D0DCC">

                <!-- Accent top edge -->
                <Rectangle
                    width="1000"
                    height="1"
                    color="0x00D4FF40" />

                <Label
                    text="&lt;&lt; CH-          OK Pausar          CH+ &gt;&gt;          Voltar"
                    translation="[20, 11]"
                    font="font:SmallSystemFont"
                    color="0x555555FF"
                    width="960"
                    horizAlign="center" />
            </Rectangle>
        </Group>

        <!-- ===== BUFFERING INDICATOR ===== -->
        <LayoutGroup
            id="bufferingGroup"
            translation="[860, 490]"
            horizAlignment="center"
            vertAlignment="center"
            visible="false"
            itemSpacings="[10]">
            <BusySpinner id="bufferSpinner" />
            <Label
                id="bufferLabel"
                text="Carregando..."
                font="font:SmallSystemFont"
                color="0x888888FF" />
        </LayoutGroup>

        <!-- ===== ERROR OVERLAY ===== -->
        <Group id="errorGroup" visible="false">
            <!-- Semi-transparent backdrop -->
            <Rectangle
                width="1920"
                height="1080"
                color="0x0D0D0DDD" />

            <!-- Error card -->
            <Rectangle
                translation="[560, 340]"
                width="800"
                height="400"
                color="0x161616FF">

                <!-- Top accent line -->
                <Rectangle
                    width="800"
                    height="3"
                    color="0xFF3333FF" />

                <!-- Error icon -->
                <Label
                    id="errorIcon"
                    text="!"
                    translation="[365, 45]"
                    font="font:LargeBoldSystemFont"
                    color="0xFF3333FF" />

                <!-- Error title -->
                <Label
                    id="errorTitle"
                    text="Erro ao reproduzir"
                    translation="[100, 120]"
                    font="font:LargeBoldSystemFont"
                    color="0xEEEEEEFF"
                    width="600"
                    horizAlign="center" />

                <!-- Error message -->
                <Label
                    id="errorMessage"
                    text=""
                    translation="[100, 185]"
                    font="font:SmallSystemFont"
                    color="0x666666FF"
                    width="600"
                    horizAlign="center"
                    maxLines="3" />

                <!-- Separator -->
                <Rectangle
                    translation="[100, 280]"
                    width="600"
                    height="1"
                    color="0x2A2A2AFF" />

                <!-- Retry hint -->
                <Label
                    text="Pressione OK para tentar novamente"
                    translation="[100, 310]"
                    font="font:MediumBoldSystemFont"
                    color="0x00D4FFFF"
                    width="600"
                    horizAlign="center" />
            </Rectangle>
        </Group>
    </children>
</component>
